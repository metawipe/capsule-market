# Настройка ботов на Railway

## Ваши данные:

- **Токен админ-бота**: `8170760507:AAFJXth4QRAGElIBy69tmFEJ8B1l-iChGjc`
- **Токен бота оплаты**: `8552103562:AAGpMhknVB7JbiigyB2Z2Iot1L-lI3IlFbY`
- **ID админа**: `7103281157`

## Шаги деплоя:

### 1. Создайте новый сервис в Railway

1. В вашем проекте Railway нажмите **"+ New"** → **"GitHub Repo"**
2. Выберите репозиторий `metawipe/capsule-market`
3. Railway создаст новый сервис

### 2. Настройте сервис

В настройках сервиса:

- **Root Directory**: `bot`
- **Start Command**: `python run_bots.py`

### 3. Добавьте переменные окружения

В разделе **"Variables"** добавьте:

| Переменная | Значение |
|-----------|----------|
| `ADMIN_BOT_TOKEN` | `8170760507:AAFJXth4QRAGElIBy69tmFEJ8B1l-iChGjc` |
| `PAYMENT_BOT_TOKEN` | `8552103562:AAGpMhknVB7JbiigyB2Z2Iot1L-lI3IlFbY` |
| `ADMIN_USER_IDS` | `7103281157` |
| `DATABASE_URL` | Скопируйте из основного сервиса бэкенда (или используйте тот же URL) |

**Как получить DATABASE_URL:**
1. Откройте ваш основной сервис бэкенда в Railway
2. Перейдите в **"Variables"**
3. Найдите `DATABASE_URL` и скопируйте значение
4. Вставьте в переменные окружения бота

### 4. Деплой

Railway автоматически задеплоит ботов после сохранения настроек.

### 5. Проверка

1. Найдите админ-бота в Telegram
2. Отправьте `/start` (если вы не админ, увидите кнопки)
3. Если вы админ, попробуйте `/users` - должны увидеть список пользователей
4. Найдите бота оплаты в Telegram
5. Отправьте `/start stars_500` - должен создать инвойс на оплату

## Команды для управления:

### Админ-бот:
- `/balance 123456 100.5` - Выдать 100.5 TON пользователю 123456
- `/users` - Список всех пользователей
- `/user 123456` - Информация о пользователе
- `/gifts 123456` - Подарки пользователя
- `/transactions 123456` - Транзакции пользователя

### Бот оплаты:
- `/start stars_<amount>` - Создать инвойс на оплату (например: `/start stars_500`)

## Важно:

⚠️ **Безопасность**: Токены ботов и ID админа уже указаны выше. Убедитесь, что только вы имеете доступ к Railway проекту!
